<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
    width="500" height="500" viewBox="-250 -250 500 500" onload="Init(evt)" onclick="TogglePause(evt)">
    <title>SVG animation using ECMAScript</title>
    <script type="text/ecmascript">
    var stopped = true;
    var frameId = -1;
    var totalDuration = 1000;
    var totalFrame = totalDuration/16;
    var object;

    function Init(evt)
    {
        object = evt.target.ownerDocument.getElementById('rot');

        TogglePause(evt);
    }

    function Animate()
    {
        if(++frameId > totalFrame) frameId = 0;
        object.setAttribute('r', 100.0*frameId/totalFrame);

        if(!stopped) requestAnimationFrame(Animate);
    }

    function TogglePause(evt)
    {
        if(stopped)
        {
            stopped = false;
            requestAnimationFrame(Animate);
        }
        else
        {
            stopped = true;
        }
    }
    </script>
    <line id="l1" x1="-100" y1="0" x2="100" y2="0" stroke="gray"/>
    <circle id="p0" cx="-100" cy="0" r="2.5" stroke="gray" fill="white"/>
    <circle id="p1" cx="100" cy="0" r="2.5" stroke="gray" fill="white"/>
    <circle id="rot" cx="0" cy="0" r="0" stroke="green" fill="none"/>
	<circle id="i0" cx="-100" cy="0" r="2.5" stroke="gray" fill="white" visibility="hidden"/>
    <circle id="i1" cx="100" cy="0" r="2.5" stroke="gray" fill="white" visibility="hidden"/>
    <line x1="-200" y1="-200" x2="200" y2="200" stroke="red"/>
</svg>